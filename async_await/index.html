<!DOCTYPE html>
<html>
	<head>
		<title>async/await</title>
	</head>
	<body>
	

		<script>

			const request1 = () => new Promise(resolve => setTimeout(()=>resolve(1), 3000));
            const request2 = () => new Promise(resolve => setTimeout(()=>resolve(2), 2000));
            const request3 = () => new Promise((_,reject) => setTimeout(()=>reject(new Error("Error")), 1000));

			async function fetchTodo() {
                const url = "https://jsonplaceholder.typicode.com/todos/1";

                const response = await fetch(url);
                const todo = await response.json();
                console.log(todo, response, "fetchTodo함수");
			}

			async function foo() {
				try {
					const res = await Promise.all([request1(), request2(), request3()]);
					console.log(res, "foo함수")
				} catch(err) {
					console.log(err);
				}
				console.log("하이")
				console.log("하이2")
			}

			console.log(fetchTodo())

			fetchTodo();
			console.log("실행")
			foo();


		</script>
	</body>
</html>